# Vitalis API — Python dependencies
# Install: pip install -r requirements.txt

# --- Web framework ---
fastapi==0.115.6
uvicorn[standard]==0.34.0
starlette==0.45.3

# --- Validation & settings ---
pydantic==2.10.4
pydantic[email]
pydantic-settings==2.7.1

# --- Database ---
asyncpg==0.30.0

# --- Auth (Clerk JWT verification) ---
PyJWT[crypto]==2.10.1

# --- Cloud storage (Cloudflare R2 / S3-compatible) ---
boto3==1.36.4
botocore==1.36.4

# --- HTTP client (for external API calls) ---
httpx==0.28.1

# --- Logging & monitoring ---
python-json-logger==3.2.1

# --- File handling ---
python-multipart==0.0.20

# --- PDF parsing (parser engine) ---
pdfplumber==0.11.4          # primary PDF text extraction (digital PDFs)
rapidfuzz==3.10.1           # fuzzy matching for biomarker name normalisation

# --- OCR fallback (optional — only needed for scanned PDFs) ---
# pytesseract==0.3.13       # OCR wrapper (requires Tesseract system binary)
# Pillow==11.1.0            # image processing for OCR
# PyMuPDF==1.25.1           # PDF rasterisation for OCR (fitz)

# --- AI fallback parser (optional — only needed if ANTHROPIC_API_KEY is set) ---
anthropic==0.40.0           # Claude API client for generic/AI parser

# --- Dev / testing ---
pytest==8.3.4
pytest-asyncio==0.25.2
ruff==0.9.2
